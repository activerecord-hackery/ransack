<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-getting-started/simple-mode">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Simple mode | Ransack documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://activerecord-hackery.github.io/ransack/getting-started/simple-mode/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Simple mode | Ransack documentation"><meta data-rh="true" name="description" content="Ransack can be used in one of two modes, simple or advanced. For"><meta data-rh="true" property="og:description" content="Ransack can be used in one of two modes, simple or advanced. For"><link data-rh="true" rel="icon" href="/ransack/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://activerecord-hackery.github.io/ransack/getting-started/simple-mode/"><link data-rh="true" rel="alternate" href="https://activerecord-hackery.github.io/ransack/getting-started/simple-mode/" hreflang="en"><link data-rh="true" rel="alternate" href="https://activerecord-hackery.github.io/ransack/getting-started/simple-mode/" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/ransack/blog/rss.xml" title="Ransack documentation RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/ransack/blog/atom.xml" title="Ransack documentation Atom Feed"><link rel="stylesheet" href="/ransack/assets/css/styles.28d6e6b5.css">
<link rel="preload" href="/ransack/assets/js/runtime~main.21ea6a42.js" as="script">
<link rel="preload" href="/ransack/assets/js/main.4e3676ce.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/ransack/"><div class="navbar__logo"><img src="/ransack/./logo/ransack-h.png" alt="Ransack Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/ransack/./logo/ransack-h.png" alt="Ransack Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/ransack/">Documentation</a><a class="navbar__item navbar__link" href="/ransack/blog/">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/activerecord-hackery/ransack" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_Pkmr"><kbd class="searchHint_iIMx">ctrl</kbd><kbd class="searchHint_iIMx">K</kbd></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ransack/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/ransack/getting-started/simple-mode/">Getting started</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/ransack/getting-started/simple-mode/">Simple mode</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ransack/getting-started/advanced-mode/">Advanced Mode</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ransack/getting-started/configuration/">Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ransack/getting-started/search-matches/">Search Matchers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ransack/getting-started/sorting/">Sorting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ransack/getting-started/using-predicates/">Using Predicates</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/ransack/going-further/associations/">Going further</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/ransack/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Getting started</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Simple mode</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Simple Mode</h1><p>Ransack can be used in one of two modes, simple or advanced. For
searching/filtering not requiring complex boolean logic, Ransack&#x27;s simple
mode should meet your needs.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="in-your-controller">In your controller<a class="hash-link" href="#in-your-controller" title="Direct link to heading">​</a></h2><div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ruby codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token method-definition function" style="color:#d73a49">index</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token variable" style="color:#36acaa">@q</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Person</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ransack</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">params</span><span class="token punctuation" style="color:#393A34">[</span><span class="token symbol" style="color:#36acaa">:q</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token variable" style="color:#36acaa">@people</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">@q</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">result</span><span class="token punctuation" style="color:#393A34">(</span><span class="token symbol" style="color:#36acaa">distinct</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">end</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>or without <code>distinct: true</code>, for sorting on an associated table&#x27;s columns (in
this example, with preloading each Person&#x27;s Articles and pagination):</p><div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ruby codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token method-definition function" style="color:#d73a49">index</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token variable" style="color:#36acaa">@q</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Person</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ransack</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">params</span><span class="token punctuation" style="color:#393A34">[</span><span class="token symbol" style="color:#36acaa">:q</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token variable" style="color:#36acaa">@people</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">@q</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">result</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">includes</span><span class="token punctuation" style="color:#393A34">(</span><span class="token symbol" style="color:#36acaa">:articles</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">page</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">params</span><span class="token punctuation" style="color:#393A34">[</span><span class="token symbol" style="color:#36acaa">:page</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">end</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>As of v4.0, searching and sorting are not authorized on <em>any</em> column of your model by default. See <a href="/ransack/going-further/other-notes/#authorization-allowlistingdenylisting">Authorization (allowlisting/denylisting)</a> on how to define searchable attributes.
Prior to v4.0, searching and sorting were authorized on any column of your model by default.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="default-search-options">Default search options<a class="hash-link" href="#default-search-options" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="search-parameter">Search parameter<a class="hash-link" href="#search-parameter" title="Direct link to heading">​</a></h4><p>Ransack uses a default <code>:q</code> param key for search params. This may be changed by
setting the <code>search_key</code> option in a Ransack initializer file (typically
<code>config/initializers/ransack.rb</code>):</p><div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ruby codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Ransack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">configure </span><span class="token keyword" style="color:#00009f">do</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">c</span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Change default search parameter key name.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Default key name is :q</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  c</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">search_key </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token symbol" style="color:#36acaa">:query</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">end</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="string-search">String search<a class="hash-link" href="#string-search" title="Direct link to heading">​</a></h4><p>After version 2.4.0 when searching a string query Ransack by default strips all whitespace around the query string.
This may be disabled by setting the <code>strip_whitespace</code> option in a Ransack initializer file:</p><div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ruby codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Ransack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">configure </span><span class="token keyword" style="color:#00009f">do</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">c</span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Change whitespace stripping behavior.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Default is true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  c</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">strip_whitespace </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">end</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="in-your-view">In your view<a class="hash-link" href="#in-your-view" title="Direct link to heading">​</a></h2><p>The two primary Ransack view helpers are <code>search_form_for</code> and <code>sort_link</code>,
which are defined in
<a href="https://github.com/activerecord-hackery/ransack/blob/main/lib/ransack/helpers/form_helper.rb" target="_blank" rel="noopener noreferrer">Ransack::Helpers::FormHelper</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="form-helper">Form helper<a class="hash-link" href="#form-helper" title="Direct link to heading">​</a></h3><p>Ransack&#x27;s <code>search_form_for</code> helper replaces <code>form_for</code> for creating the view search form</p><div class="language-erb codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-erb codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token erb language-erb delimiter punctuation" style="color:#393A34">&lt;%=</span><span class="token erb language-erb ruby language-ruby"> search_form_for </span><span class="token erb language-erb ruby language-ruby variable" style="color:#36acaa">@q</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby keyword" style="color:#00009f">do</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby operator" style="color:#393A34">|</span><span class="token erb language-erb ruby language-ruby">f</span><span class="token erb language-erb ruby language-ruby operator" style="color:#393A34">|</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb delimiter punctuation" style="color:#393A34">%&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  # Search if the name field contains...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token erb language-erb delimiter punctuation" style="color:#393A34">&lt;%=</span><span class="token erb language-erb ruby language-ruby"> f</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">.</span><span class="token erb language-erb ruby language-ruby">label </span><span class="token erb language-erb ruby language-ruby symbol" style="color:#36acaa">:name_cont</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb delimiter punctuation" style="color:#393A34">%&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token erb language-erb delimiter punctuation" style="color:#393A34">&lt;%=</span><span class="token erb language-erb ruby language-ruby"> f</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">.</span><span class="token erb language-erb ruby language-ruby">search_field </span><span class="token erb language-erb ruby language-ruby symbol" style="color:#36acaa">:name_cont</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb delimiter punctuation" style="color:#393A34">%&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  # Search if an associated articles.title starts with...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token erb language-erb delimiter punctuation" style="color:#393A34">&lt;%=</span><span class="token erb language-erb ruby language-ruby"> f</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">.</span><span class="token erb language-erb ruby language-ruby">label </span><span class="token erb language-erb ruby language-ruby symbol" style="color:#36acaa">:articles_title_start</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb delimiter punctuation" style="color:#393A34">%&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token erb language-erb delimiter punctuation" style="color:#393A34">&lt;%=</span><span class="token erb language-erb ruby language-ruby"> f</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">.</span><span class="token erb language-erb ruby language-ruby">search_field </span><span class="token erb language-erb ruby language-ruby symbol" style="color:#36acaa">:articles_title_start</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb delimiter punctuation" style="color:#393A34">%&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  # Attributes may be chained. Search multiple attributes for one value...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token erb language-erb delimiter punctuation" style="color:#393A34">&lt;%=</span><span class="token erb language-erb ruby language-ruby"> f</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">.</span><span class="token erb language-erb ruby language-ruby">label </span><span class="token erb language-erb ruby language-ruby symbol" style="color:#36acaa">:name_or_description_or_email_or_articles_title_cont</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb delimiter punctuation" style="color:#393A34">%&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token erb language-erb delimiter punctuation" style="color:#393A34">&lt;%=</span><span class="token erb language-erb ruby language-ruby"> f</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">.</span><span class="token erb language-erb ruby language-ruby">search_field </span><span class="token erb language-erb ruby language-ruby symbol" style="color:#36acaa">:name_or_description_or_email_or_articles_title_cont</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb delimiter punctuation" style="color:#393A34">%&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token erb language-erb delimiter punctuation" style="color:#393A34">&lt;%=</span><span class="token erb language-erb ruby language-ruby"> f</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">.</span><span class="token erb language-erb ruby language-ruby">submit </span><span class="token erb language-erb delimiter punctuation" style="color:#393A34">%&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token erb language-erb delimiter punctuation" style="color:#393A34">&lt;%</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby keyword" style="color:#00009f">end</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb delimiter punctuation" style="color:#393A34">%&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The argument of <code>f.search_field</code> has to be in this form:
<code>attribute_name[_or_attribute_name]..._predicate</code></p><p>where <code>[_or_another_attribute_name]...</code> means any repetition of <code>_or_</code> plus the name of the attribute.</p><p><code>cont</code> (contains) and <code>start</code> (starts with) are just two of the available
search predicates.</p><p>The <code>search_form_for</code> answer format can be set like this:</p><div class="language-erb codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-erb codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token erb language-erb delimiter punctuation" style="color:#393A34">&lt;%=</span><span class="token erb language-erb ruby language-ruby"> search_form_for</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">(</span><span class="token erb language-erb ruby language-ruby variable" style="color:#36acaa">@q</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">,</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby symbol" style="color:#36acaa">format</span><span class="token erb language-erb ruby language-ruby operator" style="color:#393A34">:</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby symbol" style="color:#36acaa">:pdf</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">)</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby keyword" style="color:#00009f">do</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby operator" style="color:#393A34">|</span><span class="token erb language-erb ruby language-ruby">f</span><span class="token erb language-erb ruby language-ruby operator" style="color:#393A34">|</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb delimiter punctuation" style="color:#393A34">%&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token erb language-erb delimiter punctuation" style="color:#393A34">&lt;%=</span><span class="token erb language-erb ruby language-ruby"> search_form_for</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">(</span><span class="token erb language-erb ruby language-ruby variable" style="color:#36acaa">@q</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">,</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby symbol" style="color:#36acaa">format</span><span class="token erb language-erb ruby language-ruby operator" style="color:#393A34">:</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby symbol" style="color:#36acaa">:json</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">)</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby keyword" style="color:#00009f">do</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby operator" style="color:#393A34">|</span><span class="token erb language-erb ruby language-ruby">f</span><span class="token erb language-erb ruby language-ruby operator" style="color:#393A34">|</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb delimiter punctuation" style="color:#393A34">%&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="search-link-helper">Search link helper<a class="hash-link" href="#search-link-helper" title="Direct link to heading">​</a></h3><p>Ransack&#x27;s <code>sort_link</code> helper creates table headers that are sortable links</p><div class="language-erb codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-erb codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token erb language-erb delimiter punctuation" style="color:#393A34">&lt;%=</span><span class="token erb language-erb ruby language-ruby"> sort_link</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">(</span><span class="token erb language-erb ruby language-ruby variable" style="color:#36acaa">@q</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">,</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby symbol" style="color:#36acaa">:name</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">)</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb delimiter punctuation" style="color:#393A34">%&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Additional options can be passed after the column parameter, like a different
column title or a default sort order.</p><p>If the first option after the column parameter is a String, it&#x27;s considered a
custom label for the link:</p><div class="language-erb codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-erb codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token erb language-erb delimiter punctuation" style="color:#393A34">&lt;%=</span><span class="token erb language-erb ruby language-ruby"> sort_link</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">(</span><span class="token erb language-erb ruby language-ruby variable" style="color:#36acaa">@q</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">,</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby symbol" style="color:#36acaa">:name</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">,</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby string-literal string" style="color:#e3116c">&#x27;Last Name&#x27;</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">,</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby symbol" style="color:#36acaa">default_order</span><span class="token erb language-erb ruby language-ruby operator" style="color:#393A34">:</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby symbol" style="color:#36acaa">:desc</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">)</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb delimiter punctuation" style="color:#393A34">%&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can use a block if the link markup is hard to fit into the label parameter:</p><div class="language-erb codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-erb codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token erb language-erb delimiter punctuation" style="color:#393A34">&lt;%=</span><span class="token erb language-erb ruby language-ruby"> sort_link</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">(</span><span class="token erb language-erb ruby language-ruby variable" style="color:#36acaa">@q</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">,</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby symbol" style="color:#36acaa">:name</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">)</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby keyword" style="color:#00009f">do</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb delimiter punctuation" style="color:#393A34">%&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">strong</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Player Name</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">strong</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token erb language-erb delimiter punctuation" style="color:#393A34">&lt;%</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby keyword" style="color:#00009f">end</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb delimiter punctuation" style="color:#393A34">%&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>With a polymorphic association, you may need to specify the name of the link
explicitly to avoid an <code>uninitialized constant Model::Xxxable</code> error (see issue
<a href="https://github.com/activerecord-hackery/ransack/issues/421" target="_blank" rel="noopener noreferrer">#421</a>):</p><div class="language-erb codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-erb codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token erb language-erb delimiter punctuation" style="color:#393A34">&lt;%=</span><span class="token erb language-erb ruby language-ruby"> sort_link</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">(</span><span class="token erb language-erb ruby language-ruby variable" style="color:#36acaa">@q</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">,</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby symbol" style="color:#36acaa">:xxxable_of_Ymodel_type_some_attribute</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">,</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby string-literal string" style="color:#e3116c">&#x27;Attribute Name&#x27;</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">)</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb delimiter punctuation" style="color:#393A34">%&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If the first option after the column parameter and/or the label parameter is an
Array, it will be used for sorting on multiple fields:</p><div class="language-erb codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-erb codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token erb language-erb delimiter punctuation" style="color:#393A34">&lt;%=</span><span class="token erb language-erb ruby language-ruby"> sort_link</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">(</span><span class="token erb language-erb ruby language-ruby variable" style="color:#36acaa">@q</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">,</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby symbol" style="color:#36acaa">:last_name</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">,</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">[</span><span class="token erb language-erb ruby language-ruby symbol" style="color:#36acaa">:last_name</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">,</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby string-literal string" style="color:#e3116c">&#x27;first_name asc&#x27;</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">]</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">,</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby string-literal string" style="color:#e3116c">&#x27;Last Name&#x27;</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">)</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb delimiter punctuation" style="color:#393A34">%&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In the example above, clicking the link will sort by <code>last_name</code> and then
<code>first_name</code>. Specifying the sort direction on a field in the array tells
Ransack to <em>always</em> sort that particular field in the specified direction.</p><p>Multiple <code>default_order</code> fields may also be specified with a trailing options
Hash:</p><div class="language-erb codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-erb codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token erb language-erb delimiter punctuation" style="color:#393A34">&lt;%=</span><span class="token erb language-erb ruby language-ruby"> sort_link</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">(</span><span class="token erb language-erb ruby language-ruby variable" style="color:#36acaa">@q</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">,</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby symbol" style="color:#36acaa">:last_name</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">,</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby string-literal string" style="color:#e3116c">%i(last_name first_name)</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">,</span><span class="token erb language-erb ruby language-ruby"></span><br></span><span class="token-line" style="color:#393A34"><span class="token erb language-erb ruby language-ruby">  </span><span class="token erb language-erb ruby language-ruby symbol" style="color:#36acaa">default_order</span><span class="token erb language-erb ruby language-ruby operator" style="color:#393A34">:</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">{</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby symbol" style="color:#36acaa">last_name</span><span class="token erb language-erb ruby language-ruby operator" style="color:#393A34">:</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby string-literal string" style="color:#e3116c">&#x27;asc&#x27;</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">,</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby symbol" style="color:#36acaa">first_name</span><span class="token erb language-erb ruby language-ruby operator" style="color:#393A34">:</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby string-literal string" style="color:#e3116c">&#x27;desc&#x27;</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">}</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">)</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb delimiter punctuation" style="color:#393A34">%&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This example toggles the sort directions of both fields, by default
initially sorting the <code>last_name</code> field by ascending order, and the
<code>first_name</code> field by descending order.</p><p>In the case that you wish to sort by some complex value, such as the result
of a SQL function, you may do so using scopes. In your model, define scopes
whose names line up with the name of the virtual field you wish to sort by,
as so:</p><div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ruby codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Person</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> ActiveRecord</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">Base</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  scope </span><span class="token symbol" style="color:#36acaa">:sort_by_reverse_name_asc</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lambda </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> order</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal string" style="color:#e3116c">&quot;REVERSE(name) ASC&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  scope </span><span class="token symbol" style="color:#36acaa">:sort_by_reverse_name_desc</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lambda </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> order</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal string" style="color:#e3116c">&quot;REVERSE(name) DESC&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>and you can then sort by this virtual field:</p><div class="language-erb codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-erb codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token erb language-erb delimiter punctuation" style="color:#393A34">&lt;%=</span><span class="token erb language-erb ruby language-ruby"> sort_link</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">(</span><span class="token erb language-erb ruby language-ruby variable" style="color:#36acaa">@q</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">,</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby symbol" style="color:#36acaa">:reverse_name</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">)</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb delimiter punctuation" style="color:#393A34">%&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The trailing options Hash can also be used for passing additional options to the
generated link, like <code>class:</code>.</p><p>The sort link order indicator arrows may be globally customized by setting a
<code>custom_arrows</code> option in an initializer file like
<code>config/initializers/ransack.rb</code>.</p><p>You can also enable a <code>default_arrow</code> which is displayed on all sortable fields
which are not currently used in the sorting. This is disabled by default so
nothing will be displayed:</p><div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ruby codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Ransack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">configure </span><span class="token keyword" style="color:#00009f">do</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">c</span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  c</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">custom_arrows </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token symbol" style="color:#36acaa">up_arrow</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string-literal string" style="color:#e3116c">&#x27;&lt;i class=&quot;custom-up-arrow-icon&quot;&gt;&lt;/i&gt;&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token symbol" style="color:#36acaa">down_arrow</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string-literal string" style="color:#e3116c">&#x27;U+02193&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token symbol" style="color:#36acaa">default_arrow</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string-literal string" style="color:#e3116c">&#x27;&lt;i class=&quot;default-arrow-icon&quot;&gt;&lt;/i&gt;&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">end</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>All sort links may be displayed without the order indicator
arrows by setting <code>hide_sort_order_indicators</code> to true in the initializer file.
Note that this hides the arrows even if they were customized:</p><div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ruby codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Ransack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">configure </span><span class="token keyword" style="color:#00009f">do</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">c</span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  c</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">hide_sort_order_indicators </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">end</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Without setting it globally, individual sort links may be displayed without
the order indicator arrow by passing <code>hide_indicator: true</code> in the sort link:</p><div class="language-erb codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-erb codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token erb language-erb delimiter punctuation" style="color:#393A34">&lt;%=</span><span class="token erb language-erb ruby language-ruby"> sort_link</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">(</span><span class="token erb language-erb ruby language-ruby variable" style="color:#36acaa">@q</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">,</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby symbol" style="color:#36acaa">:name</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">,</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby symbol" style="color:#36acaa">hide_indicator</span><span class="token erb language-erb ruby language-ruby operator" style="color:#393A34">:</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby boolean" style="color:#36acaa">true</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">)</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb delimiter punctuation" style="color:#393A34">%&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sort_url">sort_url<a class="hash-link" href="#sort_url" title="Direct link to heading">​</a></h3><p>Ransack&#x27;s <code>sort_url</code> helper is like a <code>sort_link</code> but returns only the url</p><p><code>sort_url</code> has the same API as <code>sort_link</code>:</p><div class="language-erb codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-erb codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token erb language-erb delimiter punctuation" style="color:#393A34">&lt;%=</span><span class="token erb language-erb ruby language-ruby"> sort_url</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">(</span><span class="token erb language-erb ruby language-ruby variable" style="color:#36acaa">@q</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">,</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby symbol" style="color:#36acaa">:name</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">,</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby symbol" style="color:#36acaa">default_order</span><span class="token erb language-erb ruby language-ruby operator" style="color:#393A34">:</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby symbol" style="color:#36acaa">:desc</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">)</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb delimiter punctuation" style="color:#393A34">%&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-erb codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-erb codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token erb language-erb delimiter punctuation" style="color:#393A34">&lt;%=</span><span class="token erb language-erb ruby language-ruby"> sort_url</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">(</span><span class="token erb language-erb ruby language-ruby variable" style="color:#36acaa">@q</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">,</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby symbol" style="color:#36acaa">:last_name</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">,</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">[</span><span class="token erb language-erb ruby language-ruby symbol" style="color:#36acaa">:last_name</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">,</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby string-literal string" style="color:#e3116c">&#x27;first_name asc&#x27;</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">]</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">)</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb delimiter punctuation" style="color:#393A34">%&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-erb codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-erb codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token erb language-erb delimiter punctuation" style="color:#393A34">&lt;%=</span><span class="token erb language-erb ruby language-ruby"> sort_url</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">(</span><span class="token erb language-erb ruby language-ruby variable" style="color:#36acaa">@q</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">,</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby symbol" style="color:#36acaa">:last_name</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">,</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby string-literal string" style="color:#e3116c">%i(last_name first_name)</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">,</span><span class="token erb language-erb ruby language-ruby"></span><br></span><span class="token-line" style="color:#393A34"><span class="token erb language-erb ruby language-ruby">  </span><span class="token erb language-erb ruby language-ruby symbol" style="color:#36acaa">default_order</span><span class="token erb language-erb ruby language-ruby operator" style="color:#393A34">:</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">{</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby symbol" style="color:#36acaa">last_name</span><span class="token erb language-erb ruby language-ruby operator" style="color:#393A34">:</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby string-literal string" style="color:#e3116c">&#x27;asc&#x27;</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">,</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby symbol" style="color:#36acaa">first_name</span><span class="token erb language-erb ruby language-ruby operator" style="color:#393A34">:</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby string-literal string" style="color:#e3116c">&#x27;desc&#x27;</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">}</span><span class="token erb language-erb ruby language-ruby punctuation" style="color:#393A34">)</span><span class="token erb language-erb ruby language-ruby"> </span><span class="token erb language-erb delimiter punctuation" style="color:#393A34">%&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="postgresqls-sort-option">PostgreSQL&#x27;s sort option<a class="hash-link" href="#postgresqls-sort-option" title="Direct link to heading">​</a></h3><p>The <code>NULLS FIRST</code> and <code>NULLS LAST</code> options can be used to determine whether nulls appear before or after non-null values in the sort ordering.</p><p>You may want to configure it like this:</p><div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ruby codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Ransack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">configure </span><span class="token keyword" style="color:#00009f">do</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">c</span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  c</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">postgres_fields_sort_option </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token symbol" style="color:#36acaa">:nulls_first</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># or :nulls_last</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">end</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To treat nulls as having the lowest or highest value respectively. To force nulls to always be first or last, use</p><div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ruby codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Ransack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">configure </span><span class="token keyword" style="color:#00009f">do</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">c</span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  c</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">postgres_fields_sort_option </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token symbol" style="color:#36acaa">:nulls_always_first</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># or :nulls_always_last</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">end</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>See this feature: <a href="https://www.postgresql.org/docs/13/queries-order.html" target="_blank" rel="noopener noreferrer">https://www.postgresql.org/docs/13/queries-order.html</a></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="case-insensitive-sorting-in-postgresql">Case Insensitive Sorting in PostgreSQL<a class="hash-link" href="#case-insensitive-sorting-in-postgresql" title="Direct link to heading">​</a></h4><p>In order to request PostgreSQL to do a case insensitive sort for all string columns of a model at once, Ransack can be extended by using this approach:</p><div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ruby codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">module</span><span class="token plain"> </span><span class="token class-name">RansackObject</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token method-definition keyword" style="color:#00009f">self</span><span class="token method-definition punctuation" style="color:#393A34">.</span><span class="token method-definition function" style="color:#d73a49">included</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">base</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    base</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">columns</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">each</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">do</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">column</span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> column</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">type </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token symbol" style="color:#36acaa">:string</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        base</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ransacker column</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to_sym</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token symbol" style="color:#36acaa">type</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token symbol" style="color:#36acaa">:string</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          Arel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sql</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal string" style="color:#e3116c">&quot;lower(</span><span class="token string-literal interpolation delimiter punctuation" style="color:#393A34">#{</span><span class="token string-literal interpolation content">base</span><span class="token string-literal interpolation content punctuation" style="color:#393A34">.</span><span class="token string-literal interpolation content">table_name</span><span class="token string-literal interpolation delimiter punctuation" style="color:#393A34">}</span><span class="token string-literal string" style="color:#e3116c">.</span><span class="token string-literal interpolation delimiter punctuation" style="color:#393A34">#{</span><span class="token string-literal interpolation content">column</span><span class="token string-literal interpolation content punctuation" style="color:#393A34">.</span><span class="token string-literal interpolation content">name</span><span class="token string-literal interpolation delimiter punctuation" style="color:#393A34">}</span><span class="token string-literal string" style="color:#e3116c">)&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">end</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ruby codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">UserWithManyAttributes</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> ActiveRecord</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">Base</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">include</span><span class="token plain"> RansackObject</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">end</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If this approach is taken, it is advisable to <a href="https://www.postgresql.org/docs/13/citext.html" target="_blank" rel="noopener noreferrer">add a functional index</a>.</p><p>This was originally asked in <a href="https://github.com/activerecord-hackery/ransack/issues/1201" target="_blank" rel="noopener noreferrer">a Ransack issue</a> and a solution was found on <a href="https://stackoverflow.com/a/34677378" target="_blank" rel="noopener noreferrer">Stack Overflow</a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/activerecord-hackery/ransack/edit/main/docs/docs/getting-started/simple-mode.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/ransack/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Introduction</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/ransack/getting-started/advanced-mode/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Advanced Mode</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#in-your-controller" class="table-of-contents__link toc-highlight">In your controller</a><ul><li><a href="#default-search-options" class="table-of-contents__link toc-highlight">Default search options</a></li></ul></li><li><a href="#in-your-view" class="table-of-contents__link toc-highlight">In your view</a><ul><li><a href="#form-helper" class="table-of-contents__link toc-highlight">Form helper</a></li><li><a href="#search-link-helper" class="table-of-contents__link toc-highlight">Search link helper</a></li><li><a href="#sort_url" class="table-of-contents__link toc-highlight">sort_url</a></li><li><a href="#postgresqls-sort-option" class="table-of-contents__link toc-highlight">PostgreSQL&#39;s sort option</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/ransack/">Documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/ransack" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/ransack/blog/">Blog</a></li><li class="footer__item"><a href="https://github.com/activerecord-hackery/ransack" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div></footer></div>
<script src="/ransack/assets/js/runtime~main.21ea6a42.js"></script>
<script src="/ransack/assets/js/main.4e3676ce.js"></script>
</body>
</html>